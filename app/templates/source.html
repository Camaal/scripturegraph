{% for i in range(1, fschapters)%}
    <h4 id="ch{{i}}">Chapter {{i}}</h4>
    {% for verse in fsverses%}
        {% if verse.chapter==i%}
        <span class="scripture">
               <span style="color:rgba{{verse.norm_degree | degreeColor}};">
                  <span class="verse_num" data-degree="{{verse.degree}}">{{verse.verse}}</span>
                   <a href="#" class="verseFilter" verse_id="{{verse.Id}}" style="text-decoration: none; color:rgba{{verse.norm_degree | degreeColor}};">{{verse.text}}</a><sup>{{verse.degree}}</sup>
               </span>
        </span>
        {% endif %}
    {% endfor %}
{% endfor %}

{% block script %}
<script type="application/javascript">
    $(document).ready(function () {

        $('.verseFilter').on('click', function (){
            $('#graph-container').html('<img src="{{ url_for('static', filename='loading.gif') }}">');
            const verse_id = $(this).attr('verse_id');

            let getSourceByBook = $.ajax({
                url: '/filter_target',
                type: 'POST',
                data: {Id: verse_id}
            });

            getSourceByBook.done(function (data) {
                $('#graph-container').html(data);
            })
        });
    });
</script>
{% endblock %}